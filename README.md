# UWB 无线定位实验自动化操作指南

本指南将引导你一步一步完成所有必要的无线定位实验。请仔细按照以下步骤操作。

**重要提示：** 在开始之前，请确保你已经将包含原始数据的文件夹（名为 `environment0`, `environment1`, `environment2`, `environment3`）与本说明文件及其他脚本文件放在同一个主文件夹下。

## 目录

1.  [准备工作：下载和解压](#1-准备工作下载和解压)
2.  [实验内容简介](#2-实验内容简介)
3.  [如何运行所有实验（一键完成）](#3-如何运行所有实验一键完成)
4.  [实验结果在哪里查看？](#4-实验结果在哪里查看)
5.  [常见问题与故障排除 (如果遇到问题)](#5-常见问题与故障排除-如果遇到问题)

---

## 1. 准备工作：下载和解压

*   **获取文件：** 。
*   **解压文件：**
    *   解压后，你会得到一个文件夹，里面包含了本说明文件 (`README_zh.md`)、几个 `.py` 后缀的Python脚本文件 (如 `preprocess_data.py`, `LS.py`, `RL.py`)、一个 `.sh` 后缀的脚本文件 (`run_experiments.sh`)，以及四个原始数据文件夹 (`environment0` 到 `environment3`)。**请确保这些文件和文件夹都在同一个主目录下。**

*   **安装必要的软件 (如果你的电脑是第一次运行此类程序):**
    *   **Python:** 本实验需要 Python 环境。
    *   **依赖库:** Python 脚本还需要一些额外的“工具包”（称为库）。`run_experiments.sh` 脚本会尝试运行这些程序，如果缺少库，通常会在后续步骤中报错。如果报错提示缺少如 `pandas`, `numpy`, `scikit-learn`, `scipy` 等库，你可能需要寻求技术支持来安装它们。

---

## 2. 实验内容简介

本自动化脚本将会自动执行以下几类实验，以支撑你的论文研究：

1.  **数据预处理：** 将原始的复杂数据转换成后续实验能直接使用的格式。
2.  **最小二乘法 (LS) 定位实验：** 运行一种传统的定位方法作为对比。
3.  **概率增强定位 (RL) 实验 - 默认设置：** 运行我们提出的主要定位方法，使用全部6种信号特征，并在每个环境下独立训练和测试。
4.  **概率增强定位 (RL) 实验 - 不同特征组合分析：** 测试使用不同数量和组合的信号特征时，RL方法的性能表现。
5.  **概率增强定位 (RL) 实验 - 跨环境验证：** 测试在一个或多个环境下训练的模型，在另一个全新环境下的定位效果如何，这能检验模型的普适性。

你不需要手动干预这些实验的执行过程，脚本会自动完成。

---

## 3. 如何运行所有实验（一键完成）

这是最关键的一步！我们将使用一个名为 `run_experiments.sh` 的“批处理”文件来自动执行所有操作。

**对于 Windows 用户：**

Windows 系统默认不能直接运行 `.sh` 文件。你需要一个特殊的终端环境，例如：
*   **Git Bash:** 如果你安装了 Git for Windows，它会附带 Git Bash。
*   **WSL (Windows Subsystem for Linux):** 这是一个更高级的选项，可以在 Windows 中运行一个 Linux 环境。

**推荐使用 Git Bash (如果已安装)：**
1.  打开包含所有实验文件的文件夹。
2.  在该文件夹的空白处，按住 `Shift` 键，然后鼠标右键单击。
3.  在弹出的菜单中，选择“在此处打开 Git Bash”或“Open Git Bash here”。
4.  一个类似命令行的黑色窗口会打开。在这个窗口中，输入以下命令，然后按回车键：
    ```bash
    ./run_experiments.sh
    ```

**实验开始运行后：**
*   你会在终端窗口中看到很多文字输出，显示当前正在进行的步骤和一些结果摘要。
*   整个过程可能会花费较长时间（几十分钟到几小时，取决于你的电脑性能和数据量）。请耐心等待，不要关闭终端窗口。
*   脚本会自动创建新的文件夹来存放实验结果。

---

## 4. 实验结果在哪里查看？

当脚本运行完成后，你会在终端看到类似“All Automated Experiments Finished”的提示。

所有实验的结果都会保存在你存放实验文件的**主文件夹**下的一个**新创建的文件夹**里。这个新文件夹的名称会包含当前的日期和时间，例如 `paper_results_20250507_143000`。

进入这个新创建的 `paper_results_...` 文件夹，你会看到：

*   `master_execution.log`: 这是一个总的日志文件，记录了整个自动化脚本运行过程中的所有屏幕输出。如果某个步骤出错，可以先查看这个文件。
*   **子文件夹：** 对应不同类型的实验，例如：
    *   `preprocess.log`: 数据预处理的日志。
    *   `LS_Results/`: 存放最小二乘法实验的结果。
        *   `ls_execution.log`: LS实验的运行日志。
        *   `LS_detailed_errors.csv`: 包含每个定位点的详细误差数据，可以用 Excel 或类似软件打开查看。
    *   `RL_DefaultAllFeatures_Standard/`: 存放默认设置下RL实验的结果。
    *   `RL_FeatureCombinations_Standard/`: 存放不同特征组合下RL实验的结果，每个组合会有一个对应的 `.csv` 文件和日志。
    *   `RL_CrossValidation_AllFeatures/`: 存放跨环境验证RL实验的结果。
    *   每个RL相关的子文件夹里也会有 `.log` (执行日志) 和 `.csv` (详细结果数据) 文件。

**查看 `.csv` 文件：** 这些是逗号分隔值文件，可以用 Microsoft Excel、WPS表格、LibreOffice Calc 或其他电子表格软件打开。里面通常会包含每个测试点的真实位置、估计位置和定位误差等信息。
